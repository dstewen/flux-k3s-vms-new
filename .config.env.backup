#
# Cluster related variables
#

# The repo you created from this template
# e.g. https://github.com/onedr0p/home-cluster
export BOOTSTRAP_GIT_REPOSITORY="https://github.com/dstewen/flux-k3s-vms-new"

# To enable Flux to update your cluster on `git push` set the following to one of:
# `generated` - this will generate a token and print it in the logs
# Set this to any other string and it will be used for the secret
export BOOTSTRAP_FLUX_GITHUB_WEBHOOK_SECRET="generated" # NOTE: Must only contain alphanumeric characters and dashes

# The Weave GitOps dashboard admin password
# `generated` - this will generate a token and print it in the logs
# Set this to any other string and it will be used for the secret
export BOOTSTRAP_WEAVE_GITOPS_ADMIN_PASSWORD="Turtle77%" # NOTE: Must only contain alphanumeric characters and dashes

# The Grafana admin password
# `generated` - this will generate a token and print it in the logs
# Set this to any other string and it will be used for the secret
export BOOTSTRAP_GRAFANA_ADMIN_PASSWORD="Turtle77%" # NOTE: Must only contain alphanumeric characters and dashes

# Choose one of your cloudflare domains
# e.g. onedr0p.com
export BOOTSTRAP_CLOUDFLARE_DOMAIN="davidstewen.com"
# The email you use to sign into Cloudflare with
export BOOTSTRAP_CLOUDFLARE_EMAIL="davidstewen@gmail.com"
# Your global Cloudflare API Key (not API token)
export BOOTSTRAP_CLOUDFLARE_APIKEY="5a5fdc305355ad44f63982e39bd3d67b38165"

# Create a cloudflare tunnel to automatically ingress into your cluster
# https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/tunnel-guide/local/
# cloudflared tunnel create <NAME or UUID>
export BOOTSTRAP_CLOUDFLARE_ACCOUNT_TAG="df0aeafaf0c9b8dbf2dfe09efffb5e42"
export BOOTSTRAP_CLOUDFLARE_TUNNEL_SECRET="Jdcn06bs0EPCPcnHEWgE4dr3or0nbpf0NUlGPSrg2ww="
export BOOTSTRAP_CLOUDFLARE_TUNNEL_ID="aafbf4e8-7f70-454c-ab87-e03345c47b1b"

# Pick a range of unused IPs that are on the same network as your nodes
# You don't need many IPs, just choose 10 IPs to start with
# e.g. 192.168.1.220-192.168.1.230
export BOOTSTRAP_METALLB_LB_RANGE="192.168.10.220-192.168.10.230"
# The load balancer IP for k8s_gateway, choose from one of the available IPs above
# e.g. 192.168.1.220
export BOOTSTRAP_METALLB_K8S_GATEWAY_ADDR="192.168.10.220"
# The load balancer IP for the ingress controller, choose from one of the available IPs above
# that doesn't conflict with any other IP addresses here
# e.g. 192.168.1.221
export BOOTSTRAP_METALLB_INGRESS_ADDR="192.168.10.221"

# Age Public Key - string should start with age
# e.g. age15uzrw396e67z9wdzsxzdk7ka0g2gr3l460e0slaea563zll3hdfqwqxdta
export BOOTSTRAP_AGE_PUBLIC_KEY="age1572xu3arfwfwe4dslcpld4nez98zrqwszalkq2n56y5yzlcqaulsl2tw4n"

# The IP Address to use with kube-vip
# Pick a unused IP that is on the same network as your nodes
# and outside the ${BOOTSTRAP_METALLB_LB_RANGE} range
# and doesn't conflict with any other IP addresses here
# e.g. 192.168.1.254
export BOOTSTRAP_KUBE_VIP_ADDR="192.168.10.254"

# Choose your cluster or service cidrs
# Leave this unchanged unless you know what you are doing
export BOOTSTRAP_CLUSTER_CIDR="10.42.0.0/16"
export BOOTSTRAP_SERVICE_CIDR="10.43.0.0/16"

# Choose your timezone
# e.g. America/New_York
export BOOTSTRAP_TIMEZONE="Australia/Victoria"

#
# Ansible related variables
#

#
# Default prefixes for hostnames assigned by Ansible
# These are unused on nodes where BOOTSTRAP_ANSIBLE_HOSTNAME_ is provided
#

export BOOTSTRAP_ANSIBLE_DEFAULT_CONTROL_NODE_HOSTNAME_PREFIX="k8s-" # NOTE: Must only contain alphanumeric characters and dashes
export BOOTSTRAP_ANSIBLE_DEFAULT_NODE_HOSTNAME_PREFIX="k8s-" # NOTE: Must only contain alphanumeric characters and dashes

#
# Ansible hosts - repeat this block as many times as you need,
# incrementing the last digit on the variable name for each node
#

# Host IP Address to the control plane node
# That doesn't conflict with any other IP addresses here
# e.g. 192.168.1.200
export BOOTSTRAP_ANSIBLE_HOST_ADDR_0="192.168.10.94"
# User Ansible will log into the nodes
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_0="dstewen" # NOTE: Must only contain alphanumeric characters and dashes
# Password Ansible will use to escalate to sudo
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_0="Turtle77%" # NOTE: Must only contain alphanumeric characters and dashes
# Set this node as a control node (true/false)
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_0="true"
# Optional: Set the hostname of the node, if set this will override the *_HOSTNAME_PREFIX vars above
export BOOTSTRAP_ANSIBLE_HOSTNAME_0="k3s-nvme1"

export BOOTSTRAP_ANSIBLE_HOST_ADDR_1="192.168.10.95"
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_1="dstewen"
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_1="Turtle77%"
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_1="true"
export BOOTSTRAP_ANSIBLE_HOSTNAME_1="k3s-nvme2"

export BOOTSTRAP_ANSIBLE_HOST_ADDR_2="192.168.10.96"
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_2="dstewen"
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_2="Turtle77%"
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_2="true"
export BOOTSTRAP_ANSIBLE_HOSTNAME_2="k3s-nvme3"

export BOOTSTRAP_ANSIBLE_HOST_ADDR_3="192.168.10.97"
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_3="dstewen"
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_3="Turtle77%"
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_3="false"
export BOOTSTRAP_ANSIBLE_HOSTNAME_3="k3s-nvme4"

export BOOTSTRAP_ANSIBLE_HOST_ADDR_4="192.168.10.98"
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_4="dstewen"
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_4="Turtle77%"
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_4="false"
export BOOTSTRAP_ANSIBLE_HOSTNAME_4="k3s-nvme5"

export BOOTSTRAP_ANSIBLE_HOST_ADDR_5="192.168.10.99"
export BOOTSTRAP_ANSIBLE_SSH_USERNAME_5="dstewen"
export BOOTSTRAP_ANSIBLE_SUDO_PASSWORD_5="Turtle77%"
export BOOTSTRAP_ANSIBLE_CONTROL_NODE_5="false"
export BOOTSTRAP_ANSIBLE_HOSTNAME_5="k3s-nvme6"
